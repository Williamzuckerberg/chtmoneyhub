qing.registNS("qui.functions");qui.functions={isIE:(qing.browser.ie!=undefined),isIE6:(qing.browser.ie!=undefined&&qing.browser.ie<7)};qui.isIE=qui.functions.isIE;qui.isIE6=qui.functions.isIE6;qing.registNS("qui");qui.Event=qing.lang.createClass(function(a){this.observable=a;this.listeners=[]}).extend({isEvent:true,addListener:function(b,a){var c=this,a=a||c.observable;if(!c.isListening(b,a)){listener={fn:b,scope:a,ev:c};if(c.firing){c.listeners=c.listeners.slice(0)}c.listeners.push(listener)}},findListener:function(e,d){var c=this.listeners,a=c.length,f,b;while(a--){f=c[a];if(f){b=f.scope;if(f.fn==e&&(b==d||b==this.observable)){return a}}}return -1},isListening:function(b,a){return this.findListener(b,a)!==-1},removeListener:function(d,c){var e=this,b,f,a;b=e.findListener(d,c);if(b!=-1){f=e.listeners[b];if(e.firing){e.listeners=e.listeners.slice(0)}qing.array.removeAt(e.listeners,b);return true}return false},clearListeners:function(){var b=this.listeners,a=b.length;while(a--){this.removeListener(b[a].fn,b[a].scope)}},fire:function(){var e=this,c=e.listeners,d=c.length,b,a,f;if(d>0){e.firing=true;for(b=0;b<d;b++){f=c[b];a=arguments.length?Array.prototype.slice.call(arguments,0):[];if(f&&f.fn.apply(f.scope||e.observable,a)===false){return(e.firing=false)}}}e.firing=false;return true}});qing.registNS("qui");qui.Observable=qing.lang.createClass(function(){var a=this;a.events={}}).extend({fireEvent:function(){var e=this,b=arguments.length?Array.prototype.slice.call(arguments,0):[],c=b[0].toLowerCase(),a=true,d=e.events[c];if(d&&d!==true){b.shift();a=d.fire.apply(d,b)}return a},addListener:function(a,c,b){var e=this,d;if(typeof a!=="string"){return}else{a=a.toLowerCase();d=e.events[a]=e.events[a]||true;if(qing.lang.isBoolean(d)){e.events[a]=d=new qui.Event(e,a)}d.addListener(c,b)}},removeListener:function(a,c,b){var e=this,d;if(typeof a!=="string"){return}else{a=a.toLowerCase();d=e.events[a];if(d&&d.isEvent){d.removeListener(c,b)}}},clearListeners:function(){var b=this.events,c,a;for(a in b){if(b.hasOwnProperty(a)){c=b[a];if(c.isEvent){c.clearListeners()}}}},addEvents:function(d){var c=this,a,b;c.events=c.events||{};if(qing.lang.isString(d)){a=arguments;b=a.length;while(b--){c.events[a[b]]=c.events[a[b]]||true}}},hasListener:function(a){var b=this.events[a.toLowerCase()];return b&&b.isEvent===true&&b.listeners.length>0}});qing.registNS("qui");qui.Layer=qing.lang.createClass(function(b){b=b||{};this.dom=null;this.entity=null;this._ifm=null;this.isShow=false;this._events=[];this.tmpBodyOverflow=qing.dom.getStyle(document.body,"overflow");var a={width:0,height:0,x:0,y:0,isFixed:false,id:"",entityID:"",contentID:"",template:b.template,templateString:"",container:b.container,nodes:{}};this.getProperty=function(){return a};var c=a.id="_"+qing.getUniqueId();a.entityID=c+"_entity";a.contentID=c+"_content";if(b.template){this.setTemplate(a.template)}},{superClass:qui.Observable}).extend({_init:function(){this.addEvents("beforeshow","show","beforeclose","close","beforedestroy","destroy")},_on:function(d,c,a,b){if(b){a=qing.fn.bind(a,b)}else{a=qing.fn.bind(a,this)}qing.on(d,c,a);this._events.push([d,c,a])},_un:function(c,b,a){qing.event.un(c,b,a);qing.array.remove(this._events,[c,b,a])},_removeAllListener:function(){var b=this._events;for(var a=b.length-1;a>=0;a--){var c=b[a];qing.event.un(c[0],c[1],c[2]);b.pop()}},destroy:function(){var a=this;a.fireEvent("beforedestroy",a);a._removeAllListener();if(a.dom.parentNode){a.dom.parentNode.removeChild(a.dom)}a.entity=null;if(a._ifm){a._ifm=null}a.fireEvent("destroy",a)},close:function(){var b=this;b.fireEvent("beforeclose",b);b.hide();b.destroy();if(qui.Layer.closeTipOnblur){T.event.un(document.body,"click",qui.Layer.closeTipOnblur)}if(this.bgShow){var a=this.bgShow;T.dom.hide(a)}if(qui.isIE6){document.body.style.overflow=b.tmpBodyOverflow}b.fireEvent("close",b)},setTemplate:function(a){var c=this.getProperty(),b=/[^\{\}]+(?=\})/g;c.template=a;c.templateString=a.match(b);if(this.dom){this.dom.parentNode.removeChild(this.dom);this.dom=null}this.dom=qing.dom.create("div");this.dom.innerHTML=baidu.format(c.template,this.getNodes("id"));document.body.appendChild(this.dom);if(!qing.g(c.entityID)){throw new Error("[Error from layer.js] there missing #{entityID} or #{contentID} in layer template")}else{qing.setStyles(this.dom,{position:"absolute",zIndex:"1024",left:c.x+"px",top:c.y+"px"})}c.nodes=this.getNodes();this.entity=c.nodes.entity;qing.setStyles(this.entity,{position:"absolute",zIndex:"1024",left:"0px",top:"0px"});c.width=parseInt(this.entity.style.width);this._addIframe();if(c.container){c.container.appendChild(this.dom)}this.hide()},getNodes:function(h){var g=this.getProperty(),c=h||"dom",d={},b=g.templateString;if(b){for(var e=0,a=b.length;e<a;e++){var f=b[e];switch(c){case"dom":d[f]=qing.g(g.id+"_"+f);break;case"id":d[f]=g.id+"_"+f;break}}}return d},_addIframe:function(){var a=this._ifm=qing.dom.create("iframe");qing.setStyles(a,{position:"absolute",zIndex:"1024",left:0,top:0,border:0});this.dom.insertBefore(a,this.entity);qing.setStyle(a,"opacity",0)},hide:function(){qing.setStyles(this.dom,{left:"-10000px",top:"-10000px"});this.isShow=false;qing.dom.setAttr(document.body,"data-layershow",0);if(this.bgShow){var a=this.bgShow;T.dom.hide(a)}if(qui.isIE6){document.body.style.overflow=this.tmpBodyOverflow}},setSize:function(a){var b=this.getProperty();a=a||{};if(a.width){b.nodes.entity.style.width=a.width+"px";b.width=a.width}if(a.height){b.nodes.entity.style.height=a.height+"px";b.height=a.height}this._updateIfmSize()},setPosition:function(a){var b=this.getProperty();a=a||{};if(a.left){this.dom.style.left=a.left+"px";b.x=a.left}if(a.top){this.dom.style.top=a.top+"px";b.y=a.top}},getWidth:function(){var b=this.entity.style.display,c=this.entity.style.visibility,a;this.entity.style.visibility="hidden";this.entity.style.display="";a=this.entity.offsetWidth;this.entity.style.display=b;this.entity.style.visibility=c;return a},getHeight:function(){var b=this.entity.style.display,c=this.entity.style.visibility,a;this.entity.style.visibility="hidden";this.entity.style.display="";a=this.entity.offsetHeight;this.entity.style.display=b;this.entity.style.visibility=c;return a},getX:function(){return parseInt(this.dom.style.left)},getY:function(){return parseInt(this.dom.style.top)},_updateIfmSize:function(){if(this._ifm){qing.setStyles(this._ifm,{width:this.entity.offsetWidth+"px",height:this.entity.offsetHeight+"px"})}},show:function(b){var d=this,e=d.getProperty();d.fireEvent("beforeshow",d);qing.setStyles(d.dom,{left:e.x+"px",top:e.y+"px"});if(d._ifm){d._updateIfmSize()}d.isShow=true;qing.dom.setAttr(document.body,"data-layershow",1);d.fireEvent("show",d);var c=false;if(b){if(b.isAutoHide){c=true}else{c=false}if(b.isShowBg){var a=T.dom.create("div",{style:"position:absolute;z-index:1020;top:0;left:0;width:100%;height:"+document.body.offsetHeight+"px"});document.body.appendChild(a);d.bgShow=a}}if(b&&(!b.isAutoHide)&&(!b.isShowBg)){c=true}if(d.isScrollHideWhenShow){if(qui.isIE6){}}if(!c&&!d.isPanelAutoClose){qui.Layer.closeTipOnblur=function(g){var f=g.target||g.srcElement;if(f&&f!=d.dom&&T.dom.contains(d.dom,f)){return}d.close()};setTimeout(function(){T.event.on(document.body,"click",qui.Layer.closeTipOnblur)},0)}},setContentEl:function(a){if(a){var b=this.getProperty();qing.dom.empty(b.nodes.content);b.nodes.content.appendChild(qing.g(a))}},setContent:function(b){if(b&&qing.lang.isString(b)){var a=this.getProperty();a.nodes.content.innerHTML=b}},setZIndex:function(a){this.dom.style.zIndex=a},center:function(){var a=this;viewWidth=qing.page.getViewWidth(),viewHeight=qing.page.getViewHeight(),layerWidth=a.entity.offsetWidth,layerHeight=a.entity.offsetHeight,x=viewWidth>layerWidth?0.5*(viewWidth-layerWidth):0,y=viewHeight>layerHeight?0.5*(viewHeight-layerHeight):0;a.setPosition({left:x+(window.pageXOffset?window.pageXOffset:window.document.documentElement.scrollLeft),top:y+(window.pageYOffset?window.pageYOffset:window.document.documentElement.scrollTop)})}});qing.registNS("qui");qui.Mask=qing.lang.createClass(function(b){b=qing.extend({opacity:0.4},b);var c=this.getProperty(),a='<div id="#{entity}" style="position:absolute;left:0px;top:0px;zIndex:1024;background:#000;width:'+qing.page.getWidth()+"px;height:"+qing.page.getHeight()+'px"></div>';c.opacity=isNaN(b.opacity)?0.4:b.opacity;this.isScrollHideWhenShow=b.isScrollHideWhenShow||true;this.isPanelAutoClose=b.isScrollHideWhenShow||true;this.setTemplate(a);this.setOpacity(c.opacity);this.entity.style.position="fixed";this._on(window,"resize",function(){if(this.entity){var d=this;setTimeout(function(){d.updateSize()},1)}},this);this.hide()},{superClass:qui.Layer}).extend({setOpacity:function(a){if(isNaN(a)){return}var b=this.getProperty();b.opacity=a;if(qui.isIE){this.entity.style.filter="alpha(opacity="+a*100+")"}else{this.entity.style.opacity=a}},updateSize:function(){if(!this.isShow){return}this.hide();var a=qing.page.getWidth(),b=qing.page.getHeight();this.entity.style.width=a+"px";this.entity.style.height=b+"px";if(this.ifm){this.ifm.style.width=a+"px";this.ifm.style.height=b+"px"}this.show()}});qing.registNS("qui.dialog");qui.dialog.Dialog=qing.lang.createClass(function(g){g=qing.extend({width:400,height:300,draggable:true,modal:true,opacity:0,change:[0,0]},g);g.width=parseInt(g.width);g.height=parseInt(g.height);if(g.width<410){g.change[0]=410-g.width;g.width=410}if(g.height<70){g.change[1]=70-g.height;g.height=70}this.draggable=false;this._dragInstance=null;if(g.modal){this.mask=new qui.Mask({opacity:g.opacity})}var f=['<div class="x-dialog" id="#{entity}">','<div id="#{shadow}" ></div>','<div id="#{box}" class="x-dialog-box">','<div id="#{titlebar}" class="x-dialog-titlebar">','<span id="#{title}"></span>',"</div>",'<a id="#{closeBtn}" href="#" onclick="return false;" class="x-dialog-closebtn"></a>','<div id="#{contentBox}" class="x-dialog-content-box">','<div id="#{content}" class="x-dialog-content"></div>','<div id="#{btnPanel}" class="x-dialog-btnPanel"></div>',"</div>","</div>","</div>"].join("");this.setTemplate(f);var a=this.getProperty();var l=parseInt(g.width),e=parseInt(g.height);qing.setStyles(a.nodes.content,{width:(l-g.change[0])+"px",height:(e-g.change[1])+"px",paddingTop:g.change[1]/2+"px",paddingBottom:g.change[1]/2+"px",paddingLeft:g.change[0]/2+"px",paddingRight:g.change[0]/2+"px"});if(qing.lang.isString(g.title)){this.setTitle(g.title)}if(g.contentEl){this.setContentEl(g.contentEl)}else{if(g.content){this.setContent(g.content)}}if(g.buttons){this._addButton(g.buttons)}else{a.nodes.btnPanel.style.display="none"}if(g.contentBoxStyle){qing.setStyles(a.nodes.contentBox,g.contentBoxStyle)}if(g.contentStyle){qing.setStyles(a.nodes.contentBox,g.contentStyle)}qing.setStyles(a.nodes.contentBox,{width:a.nodes.content.offsetWidth+"px"});qing.setStyles(a.nodes.box,{width:a.nodes.contentBox.offsetWidth+"px"});var k=5,j=a.nodes.box.offsetWidth+2*k,c=a.nodes.box.offsetHeight+2*k;qing.setStyles(a.nodes.shadow,{width:j+"px",height:c+"px"});this.setDraggable(!!g.draggable);if(g.listeners){for(var d in g.listeners){var b=g.listeners[d];this.addListener(d,b.fn,b.scope||this)}}this._on(a.nodes.closeBtn,"click",this.close,this);this._init()},{superClass:qui.Layer}).extend({_init:function(){this.addEvents("beforedrag","dragstart","drag","afterdrag");this.addListener("show",function(){this.mask&&this.mask.show();this.center()});this.addListener("hide",function(){this.mask&&this.mask.hide()});this.addListener("destroy",function(){this.mask&&this.mask.destroy()})},setDraggable:function(a){var b=this;var c=b.getProperty();if(baidu.lang.isBoolean(a)){if(a){if(b.draggable){return}b._dragInstance=qing.dom.draggable(b.dom,{handler:c.nodes.titlebar,onbeforedragstart:function(){b.fireEvent("beforedrag",b)},ondragstart:function(){b.fireEvent("dragstart",b)},ondrag:function(){b.fireEvent("drag",b)},ondragend:function(){b.fireEvent("afterdrag",b)}});qing.dom.addClass(c.nodes.titlebar,"x-cursor-move");b.draggable=true}else{if(b.draggable){b._dragInstance.cancel();b._dragInstance=null;qing.dom.removeClass(c.nodes.titlebar,"x-cursor-move");b.draggable=false}}}},setTitle:function(b){var a=this.getProperty();a.nodes.title.innerHTML=b},_addButton:function(c){var b=this,e=[];qing.array.each(c,function(g){var f=("green"==g.type)?"btn-s btn-12":"btn-g btn-12";e.push('<a href="#" onclick="return false;" class="x-dialog-btn '+f+'">'+g.text+"</a>")});var d=this.getProperty();d.nodes.btnPanel.innerHTML=e.join("");var a=d.nodes.btnPanel.getElementsByTagName("a");qing.array.each(c,function(g,f){if(g.handler&&qing.lang.isFunction(g.handler)){b._on(a[f],"click",g.handler,g.scope)}})}});qing.registNS("qui.dialog");qui.dialog.Message=qing.lang.createClass(function(b){b=qing.extend({opacity:0},b);if(b.modal){this.mask=new qui.Mask({opacity:b.opacity})}b.type=b.type||"normal";var a="icon-ok-32";switch(b.type){case"alert":a="icon-alert-32";break;case"forbidden":a="icon-forbidden-32";break;case"error":a="icon-error-32";break;case"alert-blue":a="icon-alert-blue-32";break;case"help":a="icon-help-32";break}var c=['<div class="x-dialog" id="#{entity}">','<div id="#{shadow}" class="x-dialog-shadow"></div>','<div id="#{box}" class="x-dialog-box x-dialog-tip">','<div id="#{contentBox}" class="x-dialog-content-box yahei '+a+'">','<div id="#{content}" class="x-dialog-tip-content"></div>',"</div>","</div>","</div>"].join("");this.setTemplate(c);this.setContent(b.msg);var e=this.getProperty(),d=5;if(qing.lang.isNumber(b.width)){qing.setStyle(e.nodes.content,"width",b.width+"px")}if(qing.lang.isNumber(b.height)){qing.setStyle(e.nodes.content,"height",b.height+"px")}qing.setStyles(e.nodes.box,{width:e.nodes.contentBox.offsetWidth+"px",height:e.nodes.contentBox.offsetHeight+"px"});qing.setStyles(e.nodes.shadow,{width:d*2+e.nodes.box.offsetWidth+"px",height:d*2+e.nodes.box.offsetHeight+"px"});this._init()},{superClass:qui.Layer}).extend({_init:function(){this.addListener("show",function(){this.mask&&this.mask.show()});this.addListener("hide",function(){this.mask&&this.mask.hide()});this.addListener("destroy",function(){this.mask&&this.mask.destroy()})},setContent:function(b){if(b&&qing.lang.isString(b)){var a=this.getProperty();a.nodes.content.innerHTML=b}}});qing.registNS("qui.dialog");qui.dialog.DialogManager={_getAppropriateSize:function(d,c){var b=qing.dom.create("div",{className:"yahei"});var a={overflow:false};qing.setStyles(b,{position:"absolute",left:"-10000px",top:"-10000px"});b.innerHTML=d;document.body.appendChild(b);if(b.offsetWidth>c){qing.dom.addClass(b,"x-word-wrap");b.style.width="600px";a.overflow=true}a.width=b.offsetWidth+10;a.height=b.offsetHeight;document.body.removeChild(b);b=null;return a},alert:function(g,a){a=a||{};var b={overflow:false},c=250,e=20,d=600;var h={title:qing.lang.isString(a.title)?a.title:"提示",opacity:0.2,width:a.width||c,height:a.height||e,content:g,buttons:a.buttons||[{text:"确定",type:"green",handler:function(){this.close()}}]};if(!qing.lang.isNumber(a.width)&&!qing.lang.isNumber(a.height)){b=qui.dialog.DialogManager._getAppropriateSize(g,d);h.width=b.width;h.height=b.height}h.width=h.width>=c?h.width:c;h.width=h.width<=d?h.width:d;h.height=h.height>=e?h.height:e;if(a.fn&&qing.lang.isFunction(a.fn)){h.listeners={close:{fn:a.fn,scope:a.scope||window}}}var f=new qui.dialog.Dialog(h);if(b.overflow){qing.dom.addClass(f.getProperty().nodes.content,"x-word-wrap")}f.show({isAutoHide:false});return f},confirm:function(g,a){a=a||{};var b={overflow:false},c=250,e=20,d=600;var h={title:qing.lang.isString(a.title)?a.title:"提示",opacity:0.2,width:a.width||c,height:a.height||e,content:g,buttons:[{text:"确定",type:"green",handler:function(){this.close();if(a.fn&&qing.lang.isFunction(a.fn)){var i=qing.fn.bind(a.fn,a.scope||window,"yes");i()}}},{text:"取消",handler:function(){this.close();if(a.fn&&qing.lang.isFunction(a.fn)){var i=qing.fn.bind(a.fn,a.scope||window,"no");i()}}}]};if(!qing.lang.isNumber(a.width)&&!qing.lang.isNumber(a.height)){b=qui.dialog.DialogManager._getAppropriateSize(g,d);h.width=b.width;h.height=b.height}h.width=h.width>=c?h.width:c;h.width=h.width<=d?h.width:d;h.height=h.height>=e?h.height:e;if(a.fn&&qing.lang.isFunction(a.fn)){h.listeners={close:{fn:a.fn,scope:a.scope||window}}}var f=new qui.dialog.Dialog(h);if(b.overflow){qing.dom.addClass(f.getProperty().nodes.content,"x-word-wrap")}f.show({isAutoHide:false});return f},showMsg:function(f,a){a=qing.extend({msg:f,type:"normal",autoClose:true},a);f='<div style="font-size:18px">'+f+"</div>";var b={overflow:false},c=600;if(!qing.lang.isNumber(a.width)&&!qing.lang.isNumber(a.height)){b=qui.dialog.DialogManager._getAppropriateSize(f,c);a.width=b.width}var e=new qui.dialog.Message(a);e.show();e.center();e.setPosition({left:a.left,top:a.top});var d=a.time||1500;if(!a.autoClose){return e}else{setTimeout(function(){e.close()},d)}},showIframe:function(a){var d=new qui.dialog.Dialog(a),e=qing.getUniqueId(),c='<iframe name="'+e+'" id="'+e+'" frameborder="0" scrolling="no" style="width:100%;height:100%;" src="'+a.url+'""></iframe>';d.setContent(c);var b={};b.isAutoHide=a.isAutoHide||true;b.isShowBg=a.isShowBg||true;d.show(b);d.iframeId=e;return d},loginDialogIsShowing:undefined,loginDialogIsCheckingStatus:false,hideLogin:function(){var a=qui.dialog.DialogManager.loginDialogIsShowing;if(a){qing.dom.remove(a);qui.dialog.DialogManager.loginDialogIsShowing=false}},showLoginRerender:function(a){var a=a||{},b=qui.dialog.DialogManager.loginDialogIsShowing;if(b){var c=qing.dom.q("x-dialog-show-login-iframe",b)[0];if(c){qing.dom.setStyles(c,a)}}},showLogin:function(a){if(qui.dialog.DialogManager.loginDialogIsCheckingStatus){return}qui.dialog.DialogManager.loginDialogIsCheckingStatus=true;var d=qui.dialog.DialogManager.loginDialogIsShowing,a=a||{};if(d){qing.dom.remove(d);qui.dialog.DialogManager.loginDialogIsShowing=false;qui.dialog.DialogManager.loginDialogIsCheckingStatus=false;return}var c=[window.qDomain.qing,"/com/data/checkuser"].join("");var b=function(j){qui.dialog.DialogManager.loginDialogIsCheckingStatus=false;var j=j[0],p=a.jumpUrl||window.location.href;if(j.loginStatus!="not_login"){window.location.href=p;return}if(qing.browser.ie<7){window.scroll(0,0)}var f=337;if(qing.browser.ie&&qing.browser.ie<7){f=357}var m=qing.getUniqueId(),n=a.prefixElement||qing.g("modTopbar"),g=a.width||980,q=a.height||f;var i=qing.dom.create("iframe",{"class":"x-dialog-show-login-iframe",name:m,id:m,frameborder:0,scrolling:"no",src:[window.qDomain.qing,"/go/login?mode=top&width=",g,"&height=",q,"&u=",p].join("")}),e=qing.dom.create("div",{"class":"x-dialog-show-login",id:qing.getUniqueId()}),l=qing.dom.create("a",{"class":"x-dialog-closebtn"}),h=qing.dom.create("div",{"class":"x-dialog-show-login-container"});qing.dom.setStyles(e,{top:qing.g("modTopbar").offsetHeight-5,width:g});qing.dom.setStyles(i,{height:q});h.appendChild(l);h.appendChild(i);e.appendChild(h);qing.event.once(l,"click",function(){var r=qing.dom.getAncestorByClass(this,"x-dialog-show-login");if(r){qing.dom.remove(r);qui.dialog.DialogManager.loginDialogIsShowing=false}});var k=qing.dom.create("div",{id:"topbarLoginDialog"});k.appendChild(e);qing.dom.insertAfter(k,n);if(qui.dialog.DialogManager.loginDialogIsShowing===undefined){qing.on(window,"resize",function(r){if(qui.dialog.DialogManager.loginDialogIsShowing){o(qui.dialog.DialogManager.loginDialogIsShowing,parent)}})}qui.dialog.DialogManager.loginDialogIsShowing=e;var o=function(s,r){var t=(r.offsetWidth-s.offsetWidth)/2;qing.dom.setStyles(s,{left:t})};o(e,parent)};qing.ajax.get(c,{},b,function(){qui.dialog.DialogManager.loginDialogIsCheckingStatus=false})},showDialog:function(g,a){a=a||{};var b={overflow:false},c=250,e=20,d=1000;var h={title:qing.lang.isString(a.title)?a.title:"提示",opacity:0.2,width:a.width||c,height:a.height||e,content:g};if(!qing.lang.isNumber(a.width)&&!qing.lang.isNumber(a.height)){b=qui.dialog.DialogManager._getAppropriateSize(g,d);h.width=b.width;h.height=b.height}if(a.boxstyle){h.contentBoxStyle=a.boxstyle}if(a.style){h.contentStyle=a.style}h.width=h.width>=c?h.width:c;h.width=h.width<=d?h.width:d;h.height=h.height>=e?h.height:e;if(a.fn&&qing.lang.isFunction(a.fn)){h.listeners={close:{fn:a.fn,scope:a.scope||window}}}var f=new qui.dialog.Dialog(h);if(b.overflow){qing.dom.addClass(f.getProperty().nodes.content,"x-word-wrap")}f.show({isAutoHide:false});return f},showActive:function(){var a='<div style="margin-top:10px;">你还没激活新版空间，激活之后就可以继续操作了。</div>';qui.alert(a,{width:400,height:50,title:"需要激活空间才能继续操作",buttons:[{text:"马上激活",type:"green",handler:function(){window.location=window.qDomain.qing+"/go/show/qurl"}}]})},showForbidSelf:function(){var a='<div style="margin-top:10px;">sorry，你的ID违反空间协议被封禁，封禁期间将无法发布任何内容</div><div style="margin-top:10px;">如有疑问，请咨询 <a href="http://tousu.baidu.com/hi/add" style="text-decoration:underline;">投诉中心</a></div>';qui.alert(a,{width:420,height:90,title:"提示"})}};qui.alert=qui.dialog.DialogManager.alert;qui.confirm=qui.dialog.DialogManager.confirm;qui.showMsg=qui.dialog.DialogManager.showMsg;qui.showIframe=qui.dialog.DialogManager.showIframe;qui.showLogin=qui.dialog.DialogManager.showLogin;qui.showDialog=qui.dialog.DialogManager.showDialog;qui.showActive=qui.dialog.DialogManager.showActive;qui.showForbidSelf=qui.dialog.DialogManager.showForbidSelf;qing.registNS("qui.message");qui.message.Tip=qing.lang.createClass(function(f){var e={speed:400,autoclose:1000,note:"",type:"success",boxclass:"x-message-box",contentclass:"x-message-content",iconclass:"x-message-icon",textclass:"x-message-text",statusclass:"x-message-status",shadowclass:"x-message-shadow",callback:function(){}};qing.object.extend(e,f);var c=null;if(qing.q(e.boxclass).length==0){c=document.createElement("div");document.body.insertBefore(c,document.body.childNodes[0])}else{qing.dom.remove(qing.q(e.boxclass)[0]);c=document.createElement("div");document.body.insertBefore(c,document.body.childNodes[0])}c.className=[e.boxclass," ",e.statusclass,"-",e.type].join("");c.innerHTML=['<div class="',e.shadowclass,'"></div><div class="',e.contentclass,'"><a class="',e.iconclass,'" ></a><div class="',e.textclass,'"><pre>',e.note,"</pre></div></div>"].join("");var j=qing.q(e.shadowclass,c)[0];var h=qing.q(e.contentclass,c)[0];var i=qext.fn.getDimensions(h);var l=4;var a=true;var g=(qing.page.getViewWidth()-i.width-l*2)/2;j.style.width=i.width+l*2+"px";j.style.height=i.height+l+"px";c.style.left=g+"px";c.style.height=j.style.height;c.style.width=j.style.width;var k=qing.q(e.textclass,c)[0];var i=qext.fn.getDimensions(k);if(qing.browser.ie!=undefined){qing.dom.opacity(j,0.6);qing.dom.opacity(h,1);if(qing.browser.ie<7){h.style.left=0;j.style.left="-4px";a=false;c.style.position="absolute";c.style.top=qing.page.getScrollTop()+"px";c.style.setExpression("top","eval(document.documentElement.scrollTop)")}else{if(qing.browser.ie<8){j.style.left=0}}}if(a){c.style.top="-"+c.style.height;qing.dom.opacity(c,0);var b=qani.animate(c,{top:0,opacity:1},e.speed);b.on("finish",function(){setTimeout(function(){var d=qani.animate(c,{opacity:0},e.speed);d.on("finish",function(){qing.dom.remove(c);if(e.callback){e.callback()}})},e.autoclose)})}else{setTimeout(function(){qing.dom.remove(c);if(e.callback){e.callback()}},e.autoclose+2*e.speed)}}).extend({});qing.registNS("qui.message");qui.message.MsgManager={showSuccess:function(a,b){return new qui.message.Tip({note:a,callback:b})},showAlert:function(a,b){return new qui.message.Tip({note:a,type:"alert",callback:b})},showError:function(a,b){return new qui.message.Tip({note:a,type:"error",callback:b})},showNotice:function(a,b){return new qui.message.Tip({note:a,type:"notice",callback:b})},showQuestion:function(a,b){return new qui.message.Tip({note:a,type:"question",callback:b})},showForbidden:function(a,b){return new qui.message.Tip({note:a,type:"forbidden",callback:b})}};qui.showError=qui.message.MsgManager.showError;qui.showAlert=qui.message.MsgManager.showAlert;qui.showSuccess=qui.message.MsgManager.showSuccess;qui.showNotice=qui.message.MsgManager.showNotice;qui.showQuestion=qui.message.MsgManager.showQuestion;qui.showForbidden=qui.message.MsgManager.showForbidden;qing.registNS("qui.tip");qui.tip.AbstractTip=qing.lang.createClass(function(a){var b=['<div id="#{entity}">','<div id="#{contentBox}" class="x-tip-content-box">','<div id="#{content}" class="x-tip-content"></div>','<div id="#{btnPanel}" class="x-tip-btnPanel"></div>',"</div>",'<a id="#{closeBtn}" href="#" onclick="return false;" class="x-tip-closebtn"></a>','<div id="#{triangle}">','<div class="x-tip-triangle"></div>','<div class="x-tip-triangle-inner"></div>',"</div>","</div>"].join("");this.setTemplate(b);var c=this.getProperty();this._on(c.nodes.closeBtn,"click",this.close,this);this._on(window,"resize",this.update,this)},{superClass:qui.Layer}).extend({update:function(){var a=this.getProperty();this.setTarget(a.target,a.anchor,a.offset,a.fix)},setTarget:function(A,j,g,q){if(!A||!qing.g(A)){return false}A=qing.g(A);j=j||"bottom";g=qing.extend({x:0,y:0},g);var r=this.getProperty();var t={height:("top"==j||"bottom"==j)?r.triangleSize[1]:r.triangleSize[0],width:("top"==j||"bottom"==j)?r.triangleSize[0]:r.triangleSize[1],x:0,y:0};var c="1022";r.target=A;r.anchor=j;r.offset=g;r.fix=q;var f=A.offsetWidth,p=A.offsetHeight,i=qing.dom.getPosition(A),a=i.left,e=i.top,k=0.618;if("top"==j||"bottom"==j){var z=a+f/2,m=r.nodes.entity.offsetWidth,s=Math.round(m*k);r.x=z+s*3/2-m-10;if((z+s)>qing.page.getWidth()){r.x=qing.page.getWidth()-m}if(r.x<0){r.x=0}t.x=z-r.x-t.width*0.5}if("top"==j){r.y=e-r.nodes.entity.offsetHeight-t.height;t.y=r.nodes.entity.offsetHeight-2}else{if("bottom"==j){r.y=e+p+t.height;t.y=-t.height}}if("right"==j||"left"==j){var z=e+p/2,u=r.nodes.entity.offsetHeight,b=Math.round(u*k);r.y=z+b-u;t.y=z-r.y-t.height*0.5}if("right"==j){r.x=a+f+t.width;t.x=-t.width}if("left"==j){r.x=a-r.nodes.entity.offsetWidth-t.width;t.x=r.nodes.entity.offsetWidth-1}r.y+=g.y;r.x+=g.x;qing.dom.addClass(r.nodes.triangle,"x-tip-triangle-"+j);if(q){var v=r.nodes.entity.offsetWidth,d=r.nodes.entity.offsetHeight,o=0,n=0,l={};switch(q.pos){case"left":l.x=qing.dom.getPosition(q.target).left-1;break;case"right":l.x=qing.dom.getPosition(q.target).left+qext.fn.getDimensions(q.target).width+1;break;case"top":l.y=qing.dom.getPosition(q.target).top-1;break;case"bottom":l.y=qing.dom.getPosition(q.target).top+qext.fn.getDimensions(q.target).height+1}switch(q.ori){case"left":o=l.x-r.x;break;case"right":o=l.x-v-r.x;break;case"top":n=l.y-r.y;break;case"bottom":n=l.y-d-r.y;break}r.x+=o;r.y+=n;t.x-=o;t.y-=n;if(q.zIndex){c=q.zIndex}}qing.setStyles(r.nodes.triangle,{left:t.x+"px",top:t.y+"px"});if(this.isShow){qing.setStyles(this.dom,{left:r.x+"px",top:r.y+"px"})}qing.array.each([r.nodes.entity,this.dom,this._ifm],function(h){if(h){qing.setStyles(h,{zIndex:c})}})}});qing.registNS("qui.tip");qui.tip.SimpleTip=qing.lang.createClass(function(a){var b=this.getProperty();b.triangleSize=[12,6];qing.dom.addClass(b.nodes.entity,"x-simple-tip");if(qing.lang.isNumber(a.width)){qing.setStyle(b.nodes.content,"width",a.width+"px")}if(qing.lang.isNumber(a.height)){qing.setStyle(b.nodes.content,"height",a.height+"px")}b.nodes.content.innerHTML=a.msg;this.setTarget(a.target,a.anchor,a.anchorOffset,a.fix)},{superClass:qui.tip.AbstractTip}).extend({_init:function(){}});qing.registNS("qui.tip");qui.tip.Tip=qing.lang.createClass(function(a){var b=this.getProperty();b.triangleSize=[12,6];qing.dom.addClass(b.nodes.entity,"x-tip");if(qing.lang.isNumber(a.width)){qing.setStyle(b.nodes.content,"width",a.width+"px");if(qing.browser.ie<7){qing.setStyle(b.nodes.contentBox,"width",a.width+"px")}}if(qing.lang.isNumber(a.height)){qing.setStyle(b.nodes.content,"height",a.height+"px")}b.nodes.content.innerHTML=a.msg;if(a.buttons){this._addButton(a.buttons)}else{b.nodes.btnPanel.style.display="none"}this.setTarget(a.target,a.anchor,a.anchorOffset)},{superClass:qui.tip.AbstractTip}).extend({_addButton:function(c){var b=this,e=[];qing.array.each(c,function(g){var f=("silver"==g.type)?"btn-s btn-12":"btn-g btn-12";e.push('<a href="#" onclick="return false;" class="x-tip-btn '+f+'">'+g.text+"</a>")});var d=this.getProperty();d.nodes.btnPanel.innerHTML=e.join("");var a=d.nodes.btnPanel.getElementsByTagName("a");qing.array.each(c,function(g,f){if(g.handler&&qing.lang.isFunction(g.handler)){b._on(a[f],"click",function(h){g.handler(b,h)},g.scope)}})}});qing.registNS("qui.tip");qui.tip.TipManager={showTip:function(a){var b=new qui.tip.Tip(a);b.show()},showSimpleTip:function(a){var b=new qui.tip.SimpleTip(a);b.show(a);return b}};qui.showTip=qui.tip.TipManager.showTip;qui.showSimpleTip=qui.tip.TipManager.showSimpleTip;var Zero=window.Zero||{};qext.back2top=(function(){var c;var e=T.browser.ie===6;var b=function(){return window};var a=function(){var f=b();var g=T.browser.isWebkit?f.document.body:f.document.documentElement;return g};var d=function(f){var g=f||{};c=(function(){var l=[(g.backgroundImage?"background-image:url("+g.backgroundImage+");":""),(g.bottom?"bottom"+g.bottom+";":"bottom:1%;"),(g.left?"margin-left:"+g.left+"px;":"margin-left:490px;"),"width:57px;","height:57px;","overflow:hidden;","cursor:pointer;","left:50%;","-webkit-transition-duration:0.2;","-webkit-transition-property:opacity;","-moz-transition-duration:0.2;","-moz-transition-property:opacity;","-o-transition-duration:0.2;","-o-transition-property:opacity;","transition-duration:0.2;","transition-property:opacity;"].join("");var j=[(g.backgroundImage?"background-image:url("+g.backgroundImage+");":""),"width:57px;","height:57px;","overflow:hidden;","opacity:0;","filter:alpha(opacity=0);"].join("");var m=qing.dom.create("div",{style:l,id:"qBack2topBtn"});var k=qing.dom.create("div",{style:j});var i;var h=(function(){if(k.style.WebkitTransition||k.style.MozTransition||k.style.OTransition||k.style.transition){return function(){k.style.opacity=1}}return function(){i=qani.animate(k,{opacity:1})}})();var n=(function(){if(k.style.WebkitTransition||k.style.MozTransition||k.style.OTransition||k.style.transition){return function(){k.style.opacity=0}}return function(){i.stop();i=qani.animate(k,{opacity:0})}})();qing.event.on(k,"mouseover",h,200);qing.event.on(k,"mouseout",n,200);m.appendChild(k);document.body.appendChild(m);return m})();qing.dom.ready(function(){Zero.scrollStopListener=(function(){var o=a(),p,m,l;function n(q){p=setInterval(function(){if(typeof m==="undefined"){m=o.scrollTop}else{l=o.scrollTop;if(l===m){q.onstop.call(b())}else{q.onscrolling.call(b())}m=o.scrollTop}},100)}function k(){clearInterval(p)}return{init:n,unStop:k}})();var j=a();var i=(function(m){var l=false;function k(o){if(c.isShow){c.style.opacity=0;c.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:0)";c.isShow=false;c.style.display="none"}if(!l){Zero.scrollStopListener.init({onstop:function(){Zero.scrollStopListener.unStop();l=false;if(m.scrollTop>400){if(!c.isShow){T.dom.setStyles(c,{bottom:"1%"});var p=qani.animation({obj:c,changes:{type:"opacity",from:0,to:1,tween:"even"}},200);p.start();c.style.display="block";c.isShow=true}}else{if(c.isShow){c.style.opacity=0;c.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:0)";c.isShow=false;c.style.display="none"}}},onscrolling:function(){if(c.isShow){c.style.opacity=0;c.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:0)";c.isShow=false}}});l=true}}function n(p){if(m.scrollTop>400){if(!c.isShow){var o=qani.animation({obj:c,changes:{type:"opacity",from:0,to:1,tween:"even"}},200);o.start();c.style.display="block";c.isShow=true}}else{if(c.isShow){var o=qani.animation({obj:c,changes:{type:"opacity",from:1,to:0,tween:"even"}},200);o.start();o.on("finish",function(){c.style.display="none"});c.isShow=false}}}return e?k:n})(j);var h=e?"absolute":"fixed";qing.dom.setStyle(c,"position",h);if(j.scrollTop<=400){c.style.opacity=0;c.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:0)";c.isShow=false;c.style.display="none"}else{if(e){T.dom.setStyles(c,{bottom:"1%"})}c.style.display="block";c.isShow=true}T.event.on(c,"click",function(n){var l=parseInt(j.scrollTop*0.2);var m=l>500?500:l;var k=qani.animation({obj:j,changes:{type:"scroll",to:0,tween:"strongDecelerate"}},m);k.start()});T.event.on(b(),"scroll",i)})};return{init:d}})();qing.registNS("qext.css3animate");qext.css3animate=(function(){var c=["animated","flash bounce shake tada swing wobble pulse","flip flipInX flipOutX flipInY flipOutY","fadeIn fadeInUp fadeInDown fadeInLeft fadeInRight fadeInUpBig fadeInDownBig fadeInLeftBig fadeInRightBig","fadeOut fadeOutUp fadeOutDown fadeOutLeft fadeOutRight	 fadeOutUpBig fadeOutDownBig fadeOutLeftBig fadeOutRightBig","bounceIn bounceInDown bounceInUp bounceInLeft bounceInRight","bounceOut bounceOutDown bounceOutUp bounceOutLeft bounceOutRight","rotateIn rotateInDownLeft rotateInDownRight rotateInUpLeft rotateInUpRight","rotateOut rotateOutDownLeft rotateOutDownRight rotateOutUpLeft rotateOutUpRight","hinge rollIn rollOut"].join(" ").split(" ");var b=function(f,h,j){for(var g in f){if(j){if(f[g].toLowerCase()===h.toLowerCase()){return f[g]}}else{if(f[g]===h){return f[g]}}}return false};var e=function(j){var h=(j.className+"").split(" ");var f=[];for(var g in h){if(!b(c,h[g])){f.push(h[g])}}j.className=f.join(" ")};var a=function(i,f,g){if(qing.browser.ie<9){return}if(!g){g=qing.g(i)}var h=b(c,f,true);qing.on(i,"mouseover",function(j){e(g);qing.dom.addClass(g,"animated "+f)});qing.on(i,"mouseout",function(j){e(g)})};var d=function(){return c};return{regist:a,getAnimateClasses:d}})();qing.registNS("qext");(function(){qext.Textarea=qing.lang.createClass(function(a){this.autoHeight=a.autoHeight==null?false:a.autoHeight;this.autoRender=a.autoRender==null?false:a.autoRender;this.autoFocus=a.autoFocus==null?false:a.autoFocus;this.gbkMaxSize=a.gbkMaxSize;this.changeCallback=a.callback;if(this.autoRender){this.render(a.element)}},{}).extend({classPrefix:"x-qing-textarea",render:function(b){if(!b){return}this.dom=qing.g(b);this.dom.style.overflow="hidden";if(this.autoHeight){var a=this;qing.event.on(this.dom,"keyup",function(){a.onInputKeyup()});qing.event.on(this.dom,"mouseup",function(){a.onInputKeyup()});qing.event.on(this.dom,"focus",function(){a.onInputKeyup()})}this.initHeight=parseInt(qing.dom.getStyle(this.dom,"height").replace("px",""));if(this.autoFocus){this.dom.focus()}if(this.gbkMaxSize){this.gbkMaxLengthLimite(this.dom,this.gbkMaxSize,this.changeCallback)}},onInputKeyup:function(){var c=this.dom;var b=T.g("__hidetextarea");if(!b){b=document.createElement("textarea");b.id="__hidetextarea";b.style.borderWidth=0;document.body.appendChild(b)}b.value=c.value;b.style.height="0px";b.style.overflow="hidden";T.dom.setStyle(b,"line-height",T.dom.getStyle(c,"line-height"));T.dom.setStyle(b,"width",T.dom.getStyle(c,"width"));var a=b.scrollHeight;delete a;c.style.height=Math.max(this.initHeight,b.scrollHeight-b.clientHeight)+"px"},gbkMaxLengthLimite:function(b,a,d){var c=true;qing.event.on(b,"keyup",function(e){var f=this;setTimeout(function(){var g=qing.string.getByteLength(f.value);c=(g>=a*2)?false:true;d&&d(g)},0)});qing.event.on(b,"focus",function(){d&&d(qing.string.getByteLength(this.value))});qing.event.on(b,"cute",function(e){var f=qing.string.getByteLength(self.value);c=(f>=a*2)?false:true;d&&d(qing.string.getByteLength(this.value))});qing.event.on(b,"paste",function(e){var f=this;if(!c){qing.event.preventDefault(e);return false}setTimeout(function(){var g=qing.string.getByteLength(f.value);c=(g>=a*2)?false:true;d&&d(g)},0)})},getClass:function(a){if(a!=null&&qing.string.trim(a)!=""){return this.classPrefix+"-"+a}else{return this.classPrefix}}});qext.textarea=function(a){return new qext.Textarea(a)}})();qing.registNS("qext");qext.autosubmit=(function(){var a=function(){var e=qing.q("autosubmit");for(var d in e){qing.on(e[d],"keyup",function(k){var j=k.which||k.keyCode,g=(parseInt(j,10)==13),i=this;if(!g){return}if(i.tagName.toLowerCase()!="form"){i=qing.dom.getAncestorByTag(this,"form")}if(i&&qing.dom.hasClass(i,"autosubmit-ctrl")){g=k.ctrlKey&&g}if(g){if(qext.autosubmit.precheck&&qing.lang.isFunction(qext.autosubmit.precheck)){var l=qext.autosubmit.precheck(i);if(l!==true){return}}var h=qing.q("autosubmit-button",i)[0];if(!h){h=qing.dom.create("input",{type:"submit"});qing.dom.setStyles(h,{position:"absolute",left:"-100000px"});i.appendChild(h)}qing.event.fire(h,"click")}})}};var c=function(d,e){if(!d){return false}if(d.constructor!=Array){d=[d]}qing.array.each(d,function(f){qing.on(f,"keyup",function(h){var g=h.which||h.keyCode;if(h.ctrlKey&&g==13){e.call(this,h)}})})};var b=function(){qing.dom.ready(function(){a()})};return{init:b,bindCtrlEnter:c}})();qext.autosubmit.init();qing.registNS("qext");qext.statistics=qext.stat=(function(){var d=function(f,g){g=g||"";a("http://hi.baidu.com/sys/statlog/1.gif?m="+encodeURIComponent(f)+"&v="+encodeURIComponent(g)+"&_t="+Math.random())};var b=function(f,h){var g=109,i=2009,j="http://nsclick.baidu.com/v.gif?pid="+g+"&url="+encodeURIComponent(h)+"&type="+i+"&m="+f+"&_t="+Math.random();a(j)};var a=function(f){var h="imglog__"+(new Date()).getTime(),g=window[h]=new Image();g.onload=(g.onerror=function(){window[h]=null});g.src=f;g=null};var e=function(l){if(typeof l==="string"){function k(n,i){var n=n;while(n){if(n.className&&T.dom.hasClass(n,i)){return n}n=T.dom.getParent(n)}return false}var j=l;T.event.on(document.body,"mousedown",function(s){var o=s.target||s.srcElement;var r=k(o,j);if(r.className&&r){var p=T.dom.getAttr(r,"data-nsclick");var t=p.match(/\S+/g);for(var q=0,n=t.length;q<n;q++){b(t[q])}}});return}var g=[].concat(l);for(var h=0,f=g.length;h<f;h++){var m=T.dom.g(g[h]);T.event.on(m,"mousedown",function(o){var n=this;var i=T.dom.getAttr(n,"data-nsclick");qing.ext.stat.ns_trackerLink(i)})}};var c={qing:d,ns:b,bindNS:e,img:a};return c})();qext.event={};qext.event.create=function(b,f){qext.event.events=qext.event.events||{};var d=qext.event.events;if(b in d){var e=d[b];for(var c=0,a=e.length;c<a;c++){if(e[c].src===f){throw new Error("The event has been created")}}}d[b]=d[b]||[];d[b].push({src:f,callback:[]})};qext.event.addEventListener=function(f,b,d){var e=qext.event.events[b];if(!e){throw new Error("The event of "+b+" is undefind")}if(typeof d!=="function"){throw new Error("The thrid argument must be a  Function")}var g=false;for(var c=0,a=e.length;c<a;c++){if(f.constructor===e[c].src||f instanceof e[c].src){e[c].callback.push({obj:f,fn:d});g=true;break}}if(!g){throw new Error("The obj type is not support for this event")}};qext.event.removeEventListener=function(e,c,k){var b=qext.event.events[c];if(!b){throw new Error("The event of "+c+" is undefind")}if(typeof k!=="function"){throw new Error("The thrid argument must be a  Function")}var a=false;for(var f=0,g=b.length;f<g;f++){if(e.constructor===b[f].src||e instanceof b[f].src){var h=b[f].callback;for(var d=0,g=h.length;d<g;d++){if(h[d].fn===k&&h[d].obj===e){h.splice(d,1)}}a=true;break}}if(!a){throw new Error("The obj type is not support for this event")}};qext.event.engine=function(d,g){var f=qext.event.events[d];for(var e=0,b=f.length;e<b;e++){if(g.constructor===f[e].src||g instanceof f[e].src){var a=f[e].callback;for(var c=0,b=a.length;c<b;c++){var h=a[c];if(g===h.obj){h.fn.apply(h.obj,[].slice.call(arguments,2))}}break}}};var qani={};qani.animation=qani.animation=function(a,b){return new qani.Animation(a,b)};qani.animation.status={INITIALED:0,STATED:1,STOPED:2,CONTINUE:3,RESETED:4,FINISH:5,BACK:6};qani.animation.ext={};qani.Animation=function(a,b){this.animer=a;this.duration=b||500;this.animer.changes=[].concat(this.animer.changes);this.isRunning=false;this.passedTime=0;this.status=qani.animation.status.INITIALED};qext.event.create("onstart",qani.Animation);qext.event.create("onstop",qani.Animation);qext.event.create("oncontinue",qani.Animation);qext.event.create("onfinish",qani.Animation);qext.event.create("onreset",qani.Animation);qext.event.create("onrenderbegin",qani.Animation);qext.event.create("onrenderend",qani.Animation);qani.Animation.tween={even:function(a,f,h,c,g){return a+(f-a)*(h-c)/g},accelerate:function(a,g,i,c,h){var f=(i-c)/h;return a+(g-a)*f*f},strongAccelerate:function(a,g,i,c,h){var f=(i-c)/h;return a+(g-a)*f*f*f*f},decelerate:function(a,g,i,c,h){var f=(i-c)/h;return a-(g-a)*f*(f-2)},strongDecelerate:function(a,g,i,c,h){var f=(i-c)/h;return a-(g-a)*((f-=1)*f*f*f-1)},ac2deCelerate:function(a,g,i,c,h){var f=(i-c)/h;if((f/=0.5)<1){return a+(g-a)/2*f*f}return a-(g-a)/2*((--f)*(f-2)-1)},strongAc2deCelerate:function(a,g,i,c,h){var f=(i-c)/h;if((f/=0.5)<1){return a+(g-a)/2*f*f*f*f}return a-(g-a)/2*((f-=2)*f*f*f-2)},back2accelerate:function(a,g,i,c,h){var f=(i-c)/h,c=1.70158;return a+(g-a)*f*f*((c+1)*f-c)},accelerate2back:function(a,g,i,c,h){var f=(i-c)/h,c=1.70158;return a+(g-a)*((f=f-1)*f*((c+1)*f+c)+1)},back2back:function(a,g,i,c,h){var f=(i-c)/h,c=1.70158;if((f/=0.5)<1){return a+(g-a)/2*(f*f*(((c*=(1.525))+1)*f-c))}return a+(g-a)/2*((f-=2)*f*(((c*=(1.525))+1)*f+c)+2)},bounce2Accelerate:function(a,g,i,c,h){var f=1-(i-c)/h;if(f<(1/2.75)){return a+(g-a)*(1-7.5625*f*f)}else{if(f<(2/2.75)){return a+(g-a)*(0.25-7.5625*(f-=(1.5/2.75))*f)}else{if(f<(2.5/2.75)){return a+(g-a)*(0.0625-7.5625*(f-=(2.25/2.75))*f)}}}return a+(g-a)*(0.015625-7.5625*(f-=(2.625/2.75))*f)},accelerate2bounce:function(a,g,i,c,h){var f=(i-c)/h;if(f<(1/2.75)){return a+(g-a)*(7.5625*f*f)}else{if(f<(2/2.75)){return a+(g-a)*(7.5625*(f-=(1.5/2.75))*f+0.75)}else{if(f<(2.5/2.75)){return a+(g-a)*(7.5625*(f-=(2.25/2.75))*f+0.9375)}}}return a+(g-a)*(7.5625*(f-=(2.625/2.75))*f+0.984375)},bounce2bounce:function(a,h,j,f,i){var g=(j-f)/i,c=qani.Animation.tween;if(g<0.5){return(c.bounce2Accelerate(a,h,j,f,i/2)+a)*0.5}return c.accelerate2bounce(a,h,2*j-i,2*f,i)*0.5}};qani.Animation.numeric={pxParse:function(a){return parseInt(a)},pxMulParse:function(d){var c=typeof d==="string"?d.split(" "):d;var b=c.length;for(var a=0;a<b;a++){c[a]=parseInt(c[a])||0}switch(b){case 4:break;case 3:c[3]=c[2];break;case 2:c[3]=c[0];c[2]=c[1];break;case 1:c[3]=c[2]=c[1]=c[0];break}return c}};qani.Animation.denumeric={pxParse:function(a){if(!(typeof a==="number")){throw new Error("Type of argument must be a number")}return a+"px"},pxMulParse:function(d){if(!typeof d==="array"){throw new Error("Type of argument must be a array")}var c=[];for(var b=0,a=d.length;b<a;b++){c.push(d[b]+"px")}return c.join(" ")}};qani.Animation.getData={getStyle:function(b,a){return T.dom.getStyle(b,a)}};qani.Animation.setData={setStyle:function(c,a,b){return T.dom.setStyle(c,a,b)}};qani.Animation.defaultVal={numeric:qani.Animation.numeric.pxParse,denumeric:qani.Animation.denumeric.pxParse,getData:qani.Animation.getData.getStyle,setData:qani.Animation.setData.setStyle,tween:qani.Animation.tween.even};qani.Animation.typeInfos=(function(){var c=["width","height","top","right","bottom","left","margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","font-size"];var d={};var e=qani.Animation.defaultVal;for(var b=0,a=c.length;b<a;b++){d[c[b]]={};d[c[b]]["numeric"]=qani.Animation.defaultVal.numeric;d[c[b]]["denumeric"]=qani.Animation.defaultVal.denumeric;d[c[b]]["getData"]=qani.Animation.defaultVal.getData;d[c[b]]["setData"]=qani.Animation.defaultVal.setData;d[c[b]]["tween"]=qani.Animation.defaultVal.tween}return d})();qani.Animation.typeInfos.margin=qani.Animation.typeInfos.padding=qani.Animation.typeInfos["border-width"]={numeric:qani.Animation.numeric.pxMulParse,denumeric:qani.Animation.denumeric.pxMulParse,getData:qani.Animation.defaultVal.getData,setData:qani.Animation.defaultVal.setData,tween:qani.Animation.defaultVal.tween};qani.Animation.animeList=[[]];qani.Animation.run=function(c){var e=c;function b(g){var r=(g&&g>1000000)?g:new Date().getTime();if(e.length===0){e.isRunning=false;return}for(var w=0,A=e.length;w<A;w++){var k=e[w];if(k.isRunning){qext.event.engine("onrenderbegin",k);var D=k.status!==qani.animation.status.CONTINUE?k.begin:k.continueTime;var f=k.duration;var q=k.animer;var E=q.changes;var o=q.obj;var m=qani.Animation.typeInfos;if(r>(f+D)){for(var v=0,B=E.length;v<B;v++){var l=E[v];var t=l.type;var h=m[t];h.setData(o,l.type,h.denumeric(l.to))}k.status=qani.animation.status.FINISH;qext.event.engine("onrenderend",k);qext.event.engine("onfinish",k);k.isRunning=false;e.isFullFiled=false;e.splice(w--,1);A=e.length;continue}for(var v=0,F=E.length;v<F;v++){var l=E[v];var t=l.type;var h=m[t];var C=l.to;var z=l.now;var p=[];if(C.length){z=[].concat(z);for(var s=0,u=C.length;s<u;s++){changeNowN=z[s]||0;p[s]=l.tween(z[s],C[s],r,D,f)}}else{p=l.tween(z,l.to,r,D,f)}z=p;h.setData(o,t,h.denumeric(p))}k.paintTime=r;qext.event.engine("onrenderend",k)}}if(!e.isRunning){e.isRunning=true}d(b)}var d=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(f){setTimeout(f,20)};var a=window.mozAnimationStartTime||new Date().getTime();d(b)};qani.Animation.prototype.start=function(){if(this.isRunning){return}qext.event.engine("onstart",this);this.isRunning=true;this.status=qani.animation.status.STATED;var p=this.animer;var l=qani.Animation.typeInfos;var v=p.changes;var m=p.obj;for(var r=0,s=v.length;r<s;r++){var k=v[r];if(!(k.type in l)||(l[k.type].testBrowser&&!l[k.type].testBrowser())){v.splice(r--,1);s=v.length;continue}if(typeof k.to==="undefined"){throw new Error('The animation "to" can not be undefined!')}var b=k.type;var e=l[b];var d=e.numeric;var u=e.denumeric;var n=e.getData;var c=e.setData;if(typeof k.from!=="undefined"){k.from=d(k.from)}else{var w=d(n(m,b));k.from=w||0}k.now=k.from;k.to=d(k.to);if(k.tween){if(typeof k.tween==="string"){if(!qani.Animation.tween[k.tween]){throw new Error(k.tween+" is undefined")}k.tween=qani.Animation.tween[k.tween]}}else{k.tween=qani.Animation.defaultVal.tween}}this.paintTime=this.begin=new Date().getTime();var g=true;var a=10;var o=qani.Animation.animeList;for(var r=0,s=o.length;r<s;r++){var f=o[r];var h=0;for(var q=0,t=f.length;q<t;q++){h+=f[q].animer.changes.length}if(!f.isFullFiled){f.push(this);if(!f.isRunning){qani.Animation.run(f)}if(h>a){f.isFullFiled=true}g=false;break}}if(g){var f=[this];o.push(f);qani.Animation.run(f)}};qani.Animation.prototype.stop=function(){if(!this.isRunning){return}var g=qani.Animation.animeList;var f=this;for(var c=0,a=g.length;c<a;c++){var e=g[c];for(var b=0,d=e.length;b<d;b++){if(f===e[b]){f.passedTime=f.status!==qani.animation.status.CONTINUE?(f.paintTime-f.begin):(f.paintTime-f.continueTime);f.status=qani.animation.status.STOPED;f.isRunning=false;qext.event.engine("onstop",f);return}}}};qani.Animation.prototype.keepon=function(){if(this.isRunning||(!this.status===qani.animation.status.STOPED)){return}var f=this;var g=qani.Animation.animeList;f.continueTime=new Date().getTime()-f.passedTime;for(var c=0,a=g.length;c<a;c++){var e=g[c];for(var b=0,d=e.length;b<d;b++){if(f===e[b]){f.status=qani.animation.status.CONTINUE;f.isRunning=true;qext.event.engine("oncontinue",f);return}}}};qani.Animation.prototype.reset=function(){var k=qani.Animation.animeList;var l=qani.Animation.typeInfos;var g=this;for(var e=0,f=k.length;e<f;e++){var a=k[e];for(var d=0,b=a.length;d<b;d++){var c=a[d];if(g===c){for(var o=0,m=g.animer.changes.length;o<m;o++){var h=g.animer.changes[o];var n=l[h.type];if(!n){throw new Error("Not support this type")}n.setData(c.animer.obj,h.type,n.denumeric(h.from));h.now=h.from}a.splice(d--,1);g.isRunning=false;qext.event.engine("onreset",g);return}}}};qani.Animation.prototype.destroy=function(){var h=qani.Animation.animeList;var g=this;for(var d=0,a=h.length;d<a;d++){var f=h[d];for(var c=0,e=f.length;c<e;c++){var b=f[c];(g===b)&&f.splice(c--,1)}}};qani.Animation.prototype.on=function(c,b){var a=this;switch(c){case"start":qext.event.addEventListener(a,"onstart",b);break;case"stop":qext.event.addEventListener(a,"onstop",b);break;case"continue":qext.event.addEventListener(a,"oncontinue",b);break;case"finish":qext.event.addEventListener(a,"onfinish",b);break;case"reset":qext.event.addEventListener(a,"onreset",b);break;case"renderbegin":qext.event.addEventListener(a,"onrenderbegin",b);break;case"renderend":qext.event.addEventListener(a,"onrenderend",b);break}};qani.Animation.create=function(d,c){var d=[].concat(d);var e=qani.Animation.typeInfos;for(var b=0,a=d.length;b<a;b++){if(d[b] in e){throw new Error("This anime has already definde")}e[d[b]]={};e[d[b]]["testBrowser"]=c.testBrowser||function(){return true};e[d[b]]["numeric"]=c.numeric||qani.Animation.defaultVal.numeric;e[d[b]]["denumeric"]=c.denumeric||qani.Animation.defaultVal.denumeric;e[d[b]]["getData"]=c.getData||qani.Animation.defaultVal.getData;e[d[b]]["setData"]=c.setData||qani.Animation.defaultVal.setData;e[d[b]]["tween"]=c.tween||qani.Animation.defaultVal.tween}};qani.animate=qani.animate=function(d,k,o,b){if(arguments.length<2){throw new Error("Animate need 2 arguments!")}if(arguments.length===2||(arguments.length===3&&typeof arguments[2]==="number")){var b=o||500;if(k.type&&k.to){var f=qani.animation({obj:d,changes:k},b);f.start();return f}var m=k;var n=[];for(var e in m){var a=/(.+)\$tween *: *(\S+)/.exec(m[e]);var h={type:e};if(a){h.to=a[1];h.tween=a[2]}else{h.to=m[e]}n.push(h)}var f=qani.animation({obj:d,changes:n},b);f.start();return f}var b=b||500;var l=k;var m=o;var n=[];for(var e in m){var g;for(var c in l){if(e===c){g=l[c]}}var h={type:e};if(typeof g!=="undefined"){h.from=g}var a=/(.+)\$tween: *(\S+)/.exec(m[e]);if(a){h.to=a[1];h.tween=a[2]}else{h.to=m[e]}n.push(h)}var f=qani.animation({obj:d,changes:n},b);f.start();return f};(function(a){qani.Animation.create("opacity",{numeric:function(b){return parseFloat(b)},denumeric:function(b){return b},getData:function(f,d){if(!(typeof document.body.style.opacity==="undefined")){var c=T.dom.getStyle(f,"opacity");return c||1}var e=T.dom.getStyle(f,"filter");var b=/opacity *={1} *(\d+)/.exec(e);return b?(b[1]/100):1},setData:function(d,b,c){if(!(typeof document.body.style.opacity==="undefined")){d.style.opacity=c}d.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+parseInt(c*100)+")"}})})(window);(function(b){var c={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]};var a=[];qani.Animation.create(["background","border","border-color","border-top-color","border-right-color","border-bottom-color","border-left-color","background-color","outline-color","color"],{numeric:function(e){var d,i=[],h="".toLocaleLowerCase.call(e);if(e&&e.constructor==Array&&e.length%3==0){return e}else{if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e)){i=[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}else{if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e)){i=[parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55]}else{if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e)){i=[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}else{if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e)){i=[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}}}}if(i.length>0){var f=d.index;a[0]=e.substring(0,f);a[1]=e.substring(f+d[0].length);return i}var g=c;for(var j in g){if(h.indexOf(j)!=-1){var f=h.indexOf(j);a[0]=e.substring(0,f);a[1]=e.substring(f+j.length);return g[j]}}return[0,0,0]},denumeric:function(d){return a[0]+"rgb("+Math.max(Math.min(parseInt(d[0]),255),0)+", "+Math.max(Math.min(parseInt(d[1]),255),0)+", "+Math.max(Math.min(parseInt(d[2]),255),0)+")"+a[1]}})})(window);(function(c){var a=(function(){if(T.browser.isGecko){return function(g,f){var e=g.style.MozTransform;var d=/rotate *\( *(\d+) *deg\)/.exec(e);return d?d[1]:0}}else{if(T.browser.isWebkit){return function(g,f){var e=g.style.webkitTransform;var d=/rotate *\( *(\d+) *deg\)/.exec(e);return d?d[1]:0}}else{if(T.browser.opera){return function(g,f){var e=g.style.OTransform;var d=/rotate *\( *(\d+) *deg\)/.exec(e);return d?d[1]:0}}else{return function(g,f){var e=g.style.transform;var d=/rotate *\( *(\d+) *deg\)/.exec(e);return d?d[1]:0}}}}})();var b=(function(){if(T.browser.isGecko){return function(f,d,e){f.style.MozTransform=e}}else{if(T.browser.isWebkit){return function(f,d,e){f.style.webkitTransform=e}}else{if(T.browser.opera){return function(f,d,e){f.style.OTransform=e}}else{return function(f,d,e){f.style.transform=e}}}}})();qani.Animation.create("rotate",{denumeric:function(d){return"rotate("+d+"deg)"},getData:a,setData:b,testBrowser:function(){var d=document.body.style;if(typeof d.MozTransform!=="undefined"||typeof d.webkitTransform!=="undefined"||typeof d.OTransform!=="undefined"||typeof d.transform!=="undefined"){return true}return false}})})(window);(function(a){qani.Animation.create("scroll",{numeric:function(b){return parseInt(b)},denumeric:function(b){return b},getData:function(c,b){return c.scrollTop},setData:function(d,b,c){d.scrollTop=c}})})(window);(function(){qani.animation.fadeIn=qani.animation.ext.fadeIn=function(d,c,b){var d=qing.dom.g(d);var c=c||500;d.style.opacity="0";d.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:0)";d.style.display=="";var a=qani.animation({obj:d,changes:{type:"opacity",from:0,to:1,tween:b||"even"}},c);a.start();return a}})();(function(){qani.animation.fadeOut=qani.animation.ext.fadeOut=function(d,c,b){var d=qing.dom.g(d);var c=c||500;var a=qani.animation({obj:d,changes:{type:"opacity",to:0,tween:b||"even"}},c);a.start();return a}})();(function(){qani.animation.expand=qani.animation.ext.expand=function(e,d,b){var e=qing.dom.g(e);e.style.visibility="hidden";if(e.style.display="none"){e.style.display=""}var f=qing.dom.getCurrentStyle(e,"height")||e.offsetHeight;var c=parseInt(f)||e.offsetHeight;var d=d||500;var a=qani.animation({obj:e,changes:{type:"height",from:0,to:c,tween:b||"even"}},d);e.style.visibility="visible";a.start();a.on("finish",function(){e.style.height=f});return a}})();